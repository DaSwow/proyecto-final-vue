{"ast":null,"code":"export default {\n  data() {\n    return {\n      atributos: {\n        id: \"\",\n        nombre: \"\",\n        genero: \"\",\n        disponible: false\n      },\n      atributosModificados: {\n        id: \"\",\n        nombre: \"\",\n        genero: \"\",\n        disponible: false\n      },\n      peliculas: [],\n      dialog: false,\n      index: 0,\n      idPeli: \"\",\n      idBuscarP: \"\"\n    };\n  },\n  //Este metodo llena la tabla al iniciarse la página\n  created() {\n    this.cargarTabla();\n  },\n  methods: {\n    //Metodo para en lugar de mostrar un true o false,\n    //se marca si o no\n    getDisponible(disponible) {\n      if (disponible === true) {\n        return \"Si\";\n      } else {\n        return \"No\";\n      }\n    },\n    async cargarTabla() {\n      //Obtenemos todas la peliculas\n      this.axios.get(\"/\").then(res => {\n        //El atributo de la lista de peliculas se llena con la info\n        //recuperada\n        this.peliculas = res.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    async agregarPelicula() {\n      try {\n        if (this.disponible != \"\") {\n          this.disponible = true;\n        } else {\n          this.disponible = false;\n        }\n        this.axios.post(\"/peliculas\", this.atributos).then(() => {\n          this.atributos.id = \"\";\n          this.atributos.nombre = \"\";\n          this.atributos.genero = \"\";\n          this.atributos.disponible = false;\n          this.cargarTabla();\n        });\n      } catch (error) {\n        alert(\"Película no se pudo agregar\");\n        console.error(error);\n      }\n    },\n    activarEditar(id, index) {\n      this.idPeli = id;\n      this.index = index;\n      this.atributosModificados.id = this.peliculas[this.index].id;\n      this.atributosModificados.nombre = this.peliculas[this.index].nombre;\n      this.atributosModificados.genero = this.peliculas[this.index].genero;\n      this.atributosModificados.disponible = this.peliculas[this.index].disponible;\n      this.dialog = true;\n    },\n    async editarPelicula() {\n      try {\n        if (this.atributosModificados.disponible != \"\") {\n          this.atributosModificados.disponible = true;\n        } else {\n          this.atributosModificados.disponible = false;\n        }\n        this.axios.put(\"/peliculas/\" + this.idPeli, this.atributosModificados).then(() => {\n          this.atributos.id = \"\";\n          this.atributos.nombre = \"\";\n          this.atributos.genero = \"\";\n          this.atributos.disponible = false;\n          this.atributosModificados.id = \"\";\n          this.atributosModificados.nombre = \"\";\n          this.atributosModificados.genero = \"\";\n          this.atributosModificados.disponible = false;\n          this.index = 0;\n          this.idPeli = \"\";\n          this.cargarTabla();\n        });\n      } catch (error) {\n        alert(\"Película no se pudo editar\");\n        console.error(error);\n      }\n      this.dialog = false;\n    },\n    async eliminarPelicula(idpeli) {\n      try {\n        this.axios.delete(\"/peliculas/\" + idpeli).then(() => {\n          this.cargarTabla();\n        });\n      } catch (error) {\n        alert(\"Película no se pudo eliminar\");\n        console.error(error);\n      }\n    },\n    async listarTodo() {\n      try {\n        this.axios.get(\"/\").then(response => {\n          this.peliculas = response.data;\n        });\n      } catch (error) {\n        console.error;\n      }\n    },\n    async buscarPelicula() {\n      try {\n        this.axios.get(\"/peliculas/\" + this.idBuscarP).then(res => {\n          this.peliculas = res.data;\n        });\n      } catch (error) {\n        alert(error);\n      }\n    },\n    async mostrarTodos() {\n      this.cargarTabla();\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["data","atributos","id","nombre","genero","disponible","atributosModificados","peliculas","dialog","index","idPeli","idBuscarP","created","cargarTabla","methods","getDisponible","axios","get","then","res","catch","error","console","log","agregarPelicula","post","alert","activarEditar","editarPelicula","put","eliminarPelicula","idpeli","delete","listarTodo","response","buscarPelicula","mostrarTodos"],"sourceRoot":"","sources":["C:\\Users\\ediit\\OneDrive\\Documentos\\GitHub\\proyecto-final-vue\\src\\components\\ComponentePeliculas.vue"],"sourcesContent":["<template>\r\n\r\n  <head>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\"\r\n      integrity=\"sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi\" crossorigin=\"anonymous\" />\r\n     \r\n\r\n  </head>\r\n\r\n  <div id=\"ComponentePeliculas\">\r\n  <h1>Peliculas</h1>\r\n    <template>\r\n      <v-row justify=\"center\">\r\n        <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\r\n          <v-card>\r\n            <v-card-title>\r\n              <span class=\"text-h5\">Editar Película</span>\r\n            </v-card-title>\r\n            <v-card-text>\r\n              <v-container>\r\n                <v-row>\r\n                  <v-col cols=\"12\">\r\n                    <v-text-field v-model=\"atributosModificados.id\" label=\"Id*\" required></v-text-field>\r\n                    <v-text-field v-model=\"atributosModificados.nombre\" label=\"Nombre*\" required></v-text-field>\r\n                    <v-text-field v-model=\"atributosModificados.genero\" label=\"Género*\" required></v-text-field>\r\n                    <v-checkbox v-model=\"atributosModificados.disponible\"  label=\"Disponible\" color=\"info\" value=\"info\" hide-details></v-checkbox>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-container>\r\n              <small>*Requerido</small>\r\n            </v-card-text>\r\n            <v-card-actions>\r\n              <v-spacer></v-spacer>\r\n              <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">\r\n                Cerrar\r\n              </v-btn>\r\n              <form @submit.prevent=\"editarPelicula()\">\r\n                <v-btn type=\"submit\" color=\"blue darken-1\">\r\n                  Guardar\r\n                </v-btn>\r\n              </form>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-dialog>\r\n      </v-row>\r\n    </template>\r\n\r\n    <form @submit.prevent=\"agregarPelicula()\" >\r\n      <input v-model=\"atributos.id\" type=\"text\" name=\"id\" required placeholder=\"Ingresa el ID\" /><br />\r\n      <input v-model=\"atributos.nombre\" type=\"text\" name=\"nombre\" required placeholder=\"Ingresa el nombre\" /><br />\r\n      <input v-model=\"atributos.genero\" type=\"text\" name=\"genero\" required placeholder=\"Ingresa el genéro\" /><br />\r\n      <input v-model=\"atributos.disponible\" type=\"checkbox\" id=\"dis\" name=\"disponible\">\r\n      <label for=\"disponible\">Disponible</label><br />\r\n      \r\n      <input type=\"submit\" class=\"btn btn-info\" value=\"Agregar Película\" />\r\n    </form>\r\n    <br/>\r\n\r\n    <!-- Tabla de peliculas-->\r\n    <div id=\"tabla\">\r\n       <table class=\"table\" >\r\n      <thead class=\"thead-light\">\r\n        <th scope=\"col\">ID</th>\r\n        <th scope=\"col\">Nombre</th>\r\n        <th scope=\"col\">Genero</th>\r\n        <th scope=\"col\">Disponibilidad</th>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(pelicula, index) in peliculas \" :key=\"pelicula.id\">\r\n          <td>{{ pelicula.id }}</td>\r\n          <td>{{ pelicula.nombre }}</td>\r\n          <td>{{ pelicula.genero }}</td>\r\n          <td>{{ getDisponible(pelicula.disponible) }}</td>\r\n          <td>\r\n\r\n            <form @submit.prevent=\"eliminarPelicula(pelicula._id)\">\r\n              <button type=\"submit\" style=\"border:none;\" class=\"btn btn-outline-danger\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\"\r\n                  class=\"bi bi-trash3-fill\" viewBox=\"0 0 16 16\">\r\n                  <path\r\n                    d=\"M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z\" />\r\n                </svg>\r\n              </button>\r\n            </form>\r\n          </td>\r\n          <td>\r\n            <form @submit.prevent=\"activarEditar(pelicula._id, index)\">\r\n              <button type=\"submit\" style=\"border:none;\" class=\"btn btn-primary\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" class=\"bi bi-pen\"\r\n                  viewBox=\"0 0 16 16\">\r\n                  <path\r\n                    d=\"m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001zm-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708l-1.585-1.585z\" />\r\n                </svg>\r\n              </button>\r\n            </form>\r\n          </td>\r\n          <td></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    </div>\r\n   <div id=\"busqueda\">\r\n    <form @submit.prevent=\"buscarPelicula()\" >\r\n          <input  v-model=\"idBuscarP\" type=\"text\" name=\"buscadorid\" required placeholder=\"Buscar por id\" />\r\n          <button type=\"submit\" style=\"border:none\"  class=\"btn btn-info\">Buscar</button>       \r\n          </form>\r\n\r\n    <form @submit.prevent=\"mostrarTodos()\">\r\n          <button type=\"submit\" style=\"border:none\" class=\"btn btn-warning\">Mostrar todo</button>\r\n    </form>\r\n   </div>\r\n    \r\n  </div>\r\n  \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      atributos: {\r\n        id: \"\",\r\n        nombre: \"\",\r\n        genero: \"\",\r\n        disponible: false,\r\n      },\r\n      atributosModificados: {\r\n        id: \"\",\r\n        nombre: \"\",\r\n        genero: \"\",\r\n        disponible: false,\r\n      },\r\n      peliculas: [],\r\n      dialog: false,\r\n      index: 0,\r\n      idPeli: \"\",\r\n      idBuscarP:\"\",\r\n    }\r\n  },\r\n\r\n  //Este metodo llena la tabla al iniciarse la página\r\n  created() {\r\n    this.cargarTabla()\r\n  },\r\n  methods: {\r\n    //Metodo para en lugar de mostrar un true o false,\r\n    //se marca si o no\r\n    getDisponible(disponible) {\r\n      if (disponible === true) {\r\n        return \"Si\"\r\n      } else {\r\n        return \"No\"\r\n      }\r\n    },\r\n    async cargarTabla() {\r\n      //Obtenemos todas la peliculas\r\n      this.axios.get(\"/\").then(res => {\r\n        //El atributo de la lista de peliculas se llena con la info\r\n        //recuperada\r\n        this.peliculas = res.data;\r\n      }).catch(error => {\r\n        console.log(error)\r\n      })\r\n\r\n    },\r\n\r\n    async agregarPelicula() {\r\n      try {\r\n        if (this.disponible != \"\") { this.disponible = true }\r\n        else { this.disponible = false }\r\n        this.axios.post(\"/peliculas\", this.atributos)\r\n          .then(() => {\r\n            this.atributos.id = \"\"\r\n            this.atributos.nombre = \"\"\r\n            this.atributos.genero = \"\"\r\n            this.atributos.disponible = false\r\n\r\n            this.cargarTabla()\r\n\r\n          })\r\n      } catch (error) {\r\n        alert(\"Película no se pudo agregar\")\r\n        console.error(error)\r\n      }\r\n\r\n    },\r\n    activarEditar(id, index) {\r\n      this.idPeli = id\r\n      this.index = index\r\n\r\n      this.atributosModificados.id = this.peliculas[this.index].id\r\n      this.atributosModificados.nombre = this.peliculas[this.index].nombre\r\n      this.atributosModificados.genero = this.peliculas[this.index].genero\r\n      this.atributosModificados.disponible = this.peliculas[this.index].disponible\r\n      this.dialog = true\r\n    },\r\n    async editarPelicula() {\r\n      try {\r\n        if (this.atributosModificados.disponible != \"\") { this.atributosModificados.disponible = true }\r\n        else { this.atributosModificados.disponible = false }\r\n\r\n\r\n        this.axios.put(\"/peliculas/\" + this.idPeli, this.atributosModificados)\r\n          .then(() => {\r\n\r\n            this.atributos.id = \"\"\r\n            this.atributos.nombre = \"\"\r\n            this.atributos.genero = \"\"\r\n            this.atributos.disponible = false\r\n\r\n            this.atributosModificados.id = \"\"\r\n            this.atributosModificados.nombre = \"\"\r\n            this.atributosModificados.genero = \"\"\r\n            this.atributosModificados.disponible = false\r\n\r\n            this.index = 0\r\n            this.idPeli = \"\"\r\n            this.cargarTabla()\r\n\r\n          })\r\n      } catch (error) {\r\n        alert(\"Película no se pudo editar\")\r\n        console.error(error)\r\n      }\r\n      this.dialog = false\r\n    },\r\n\r\n    async eliminarPelicula(idpeli) {\r\n      try {\r\n        this.axios.delete(\"/peliculas/\" + idpeli)\r\n          .then(() => {\r\n            this.cargarTabla()\r\n          })\r\n      } catch (error) {\r\n        alert(\"Película no se pudo eliminar\")\r\n        console.error(error)\r\n      }\r\n    },\r\n    async listarTodo() {\r\n      try {\r\n        this.axios.get(\"/\")\r\n          .then((response => {\r\n            this.peliculas = response.data\r\n          }))\r\n      } catch (error) { console.error }\r\n    },\r\n    async buscarPelicula(){\r\n     try {\r\n         this.axios.get(\"/peliculas/\"+this.idBuscarP).then((res)=>{\r\n         this.peliculas = res.data\r\n         })\r\n     } catch (error) {\r\n      alert(error)\r\n     }\r\n    },\r\n    async mostrarTodos(){\r\n      this.cargarTabla()\r\n    },\r\n  }\r\n\r\n}\r\n</script>\r\n<style>\r\n#tabla{\r\nbackground-color: white;\r\n}\r\n#ComponentePeliculas{\r\n\r\nbackground-color: azure;\r\n}\r\nh1{\r\n  text-align: center;\r\n  font-size: 20px;\r\n\r\n  color: black;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}